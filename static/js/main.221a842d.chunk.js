(this["webpackJsonpchip-8"]=this["webpackJsonpchip-8"]||[]).push([[0],{17:function(e,t,i){},19:function(e,t,i){},21:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),o=i(11),c=i.n(o),r=(i(17),function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,22)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;i(e),s(e),n(e),o(e),c(e)}))}),a=i(2),p=i(3),u=i(7),h=i(5),d=i(4),l=i(0),m=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(a.a)(this,i);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).updateText=function(t){e.setState({textValue:t})},e.handleInputFileChange=function(t){var i=t.target;if(i.files.length>0){document.title=i.files[0].name;var s=new FileReader;s.readAsArrayBuffer(i.files[0]),i.value="",s.onload=function(t){e.props.onFileLoaded(s.result)}}},e}return Object(p.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{id:"fileInput",ref:function(t){e.fileInput=t},hidden:!0,onClick:function(){e.props.bus.setPaused(!0)},onChange:this.handleInputFileChange,type:"file",accept:".ch8"}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){e.fileInput.click()},children:"Open .CH8 File"})]})}}]),i}(s.Component),g=function(){function e(t){var i=this;Object(a.a)(this,e),this.write=function(e,t){e>=0&&e<4096&&(i.mem[e]=t)},this.read=function(e){if(e>=0&&e<4096)return i.mem[e]},this.loadRam=function(e){for(var t=new Uint8Array(e),s=0;s<t.length;s++)i.write(s+512,t[s]);i.bus.ramLoaded()},this.bus=t,this.mem=new Uint8Array(4096),this.config()}return Object(p.a)(e,[{key:"config",value:function(){this.mem[0]=240,this.mem[1]=144,this.mem[2]=144,this.mem[3]=144,this.mem[4]=240,this.mem[5]=32,this.mem[6]=96,this.mem[7]=32,this.mem[8]=32,this.mem[9]=112,this.mem[10]=240,this.mem[11]=16,this.mem[12]=240,this.mem[13]=128,this.mem[14]=240,this.mem[15]=240,this.mem[16]=16,this.mem[17]=240,this.mem[18]=16,this.mem[19]=240,this.mem[20]=144,this.mem[21]=144,this.mem[22]=240,this.mem[23]=16,this.mem[24]=16,this.mem[25]=240,this.mem[26]=128,this.mem[27]=240,this.mem[28]=16,this.mem[29]=240,this.mem[30]=240,this.mem[31]=128,this.mem[32]=240,this.mem[33]=144,this.mem[34]=240,this.mem[35]=240,this.mem[36]=16,this.mem[37]=32,this.mem[38]=64,this.mem[39]=64,this.mem[40]=240,this.mem[41]=144,this.mem[42]=240,this.mem[43]=144,this.mem[44]=240,this.mem[45]=240,this.mem[46]=144,this.mem[47]=240,this.mem[48]=16,this.mem[49]=240,this.mem[50]=240,this.mem[51]=144,this.mem[52]=240,this.mem[53]=144,this.mem[54]=144,this.mem[55]=224,this.mem[56]=144,this.mem[57]=224,this.mem[58]=144,this.mem[59]=224,this.mem[60]=240,this.mem[61]=128,this.mem[62]=128,this.mem[63]=128,this.mem[64]=240,this.mem[65]=224,this.mem[66]=144,this.mem[67]=144,this.mem[68]=144,this.mem[69]=224,this.mem[70]=240,this.mem[71]=128,this.mem[72]=240,this.mem[73]=128,this.mem[74]=240,this.mem[75]=240,this.mem[76]=128,this.mem[77]=240,this.mem[78]=128,this.mem[79]=128}}]),e}(),y=function(){function e(t){var i=this;Object(a.a)(this,e),this.op0nnn=function(){console.log("if op0nnn called, its Error")},this.op00E0=function(){i.cpu.bus.display.current.clear()},this.op00EE=function(){i.cpu.PC=i.cpu.stack[i.cpu.SP],i.cpu.SP--},this.op1nnn=function(){var e=i.getnnn(i.cpu.opcode);i.cpu.PC=e},this.op2nnn=function(){var e=i.getnnn(i.cpu.opcode);i.cpu.SP++,i.cpu.stack[i.cpu.SP]=i.cpu.PC,i.cpu.PC=e},this.op3xkk=function(){var e=i.getx(i.cpu.opcode),t=i.getkk(i.cpu.opcode);i.cpu.registers[e]===t&&(i.cpu.PC+=2)},this.op4xkk=function(){var e=i.getx(i.cpu.opcode),t=i.getkk(i.cpu.opcode);i.cpu.registers[e]!=t&&(i.cpu.PC+=2)},this.op5xy0=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]===i.cpu.registers[t]&&(i.cpu.PC+=2)},this.op6xkk=function(){var e=i.getx(i.cpu.opcode),t=i.getkk(i.cpu.opcode);i.cpu.registers[e]=t},this.op7xkk=function(){var e=i.getx(i.cpu.opcode),t=i.getkk(i.cpu.opcode);i.cpu.registers[e]+=t},this.op8xy0=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]=i.cpu.registers[t]},this.op8xy1=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]=i.cpu.registers[e]|i.cpu.registers[t]},this.op8xy2=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]=i.cpu.registers[e]&i.cpu.registers[t]},this.op8xy3=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]=i.cpu.registers[e]^i.cpu.registers[t]},this.op8xy4=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode),s=i.cpu.registers[e]+i.cpu.registers[t];i.cpu.registers[e]=i.cpu.registers[e]+i.cpu.registers[t],i.cpu.registers[15]=s>255?1:0},this.op8xy5=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]>i.cpu.registers[t]?i.cpu.registers[15]=1:i.cpu.registers[15]=0,i.cpu.registers[e]=i.cpu.registers[e]-i.cpu.registers[t]},this.op8xy6=function(){var e=i.getx(i.cpu.opcode);i.cpu.registers[15]=1&i.cpu.registers[e],i.cpu.registers[e]=i.cpu.registers[e]>>1},this.op8xy7=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[t]>i.cpu.registers[e]?i.cpu.registers[15]=1:i.cpu.registers[15]=0,i.cpu.registers[e]=i.cpu.registers[t]-i.cpu.registers[e]},this.op8xyE=function(){var e=i.getx(i.cpu.opcode);i.cpu.registers[15]=i.cpu.registers[e]>>7,i.cpu.registers[e]=i.cpu.registers[e]<<1},this.op9xy0=function(){var e=i.getx(i.cpu.opcode),t=i.gety(i.cpu.opcode);i.cpu.registers[e]!=i.cpu.registers[t]&&(i.cpu.PC+=2)},this.opAnnn=function(){var e=i.getnnn(i.cpu.opcode);i.cpu.I=e},this.opBnnn=function(){var e=i.getnnn(i.cpu.opcode);i.cpu.PC=i.cpu.registers[0]+e},this.opCxkk=function(){var e=i.getx(i.cpu.opcode),t=i.getkk(i.cpu.opcode),s=Math.floor(256*Math.random());i.cpu.registers[e]=t&s},this.opDxyn=function(){var e=i.cpu.bus.display.current,t=i.getn(i.cpu.opcode),s=i.getx(i.cpu.opcode),n=i.gety(i.cpu.opcode),o=i.cpu.registers[s],c=i.cpu.registers[n];i.cpu.registers[15]=0;for(var r=0;r<t;r++){var a=i.cpu.bus.ram.read(i.cpu.I+r),p=7;for(c%=e.height;p>=0;p--){var u=a>>p&1;if(1===u){var h=o+(7-p);h%=e.width;var d=0;0!=e.getPixel(h,c).colorIndex&&(d=1),d+u===2&&(i.cpu.registers[15]=1);var l=0;1===(d^u)&&(l=1),e.setPixel(h,c,l)}}c++}},this.opEx9E=function(){var e=i.getx(i.cpu.opcode),t=i.cpu.bus.joypad.current.getKeyCode(i.cpu.registers[e]);i.cpu.bus.joypad.current.keys.get(t).pressed&&(i.cpu.PC=i.cpu.PC+2)},this.opExA1=function(){var e=i.getx(i.cpu.opcode),t=i.cpu.bus.joypad.current.getKeyCode(i.cpu.registers[e]);i.cpu.bus.joypad.current.keys.get(t).pressed||(i.cpu.PC=i.cpu.PC+2)},this.opFx07=function(){var e=i.getx(i.cpu.opcode);i.cpu.registers[e]=i.cpu.dt.value},this.opFx0A=function(){i.cpu.waitingForKey||(i.cpu.waitingForKey=!0);var e=i.getx(i.cpu.opcode);void 0!=i.cpu.bus.joypad.current.pressedKey&&(i.cpu.registers[e]=i.cpu.bus.joypad.current.pressedKey.value,i.cpu.waitingForKey=!1,i.cpu.bus.joypad.current.pressedKey=void 0)},this.opFx15=function(){var e=i.getx(i.cpu.opcode);i.cpu.dt.value=i.cpu.registers[e]},this.opFx18=function(){var e=i.getx(i.cpu.opcode);i.cpu.st.value=i.cpu.registers[e]},this.opFx1E=function(){var e=i.getx(i.cpu.opcode);i.cpu.I=i.cpu.I+i.cpu.registers[e]},this.opFx29=function(){var e=i.getx(i.cpu.opcode);i.cpu.I=5*i.cpu.registers[e]},this.opFx33=function(){var e=i.getx(i.cpu.opcode),t=i.cpu.registers[e],s=t%10,n=(t/=10)%10,o=(t/=10)%10;i.cpu.bus.ram.write(i.cpu.I,o),i.cpu.bus.ram.write(i.cpu.I+1,n),i.cpu.bus.ram.write(i.cpu.I+2,s)},this.opFx55=function(){for(var e=i.getx(i.cpu.opcode),t=0;t<=e;t++)i.cpu.bus.ram.write(i.cpu.I+t,i.cpu.registers[t]);i.cpu.I=i.cpu.I+e+1},this.opFx65=function(){for(var e=i.getx(i.cpu.opcode),t=0;t<=e;t++)i.cpu.registers[t]=i.cpu.bus.ram.read(i.cpu.I+t);i.cpu.I=i.cpu.I+e+1},this.cpu=t,this.opcodesTable=new Map}return Object(p.a)(e,[{key:"config",value:function(){this.opcodesTable.set("0.0",{name:"op0nnn",operation:this.op0nnn}),this.opcodesTable.set("0.1",{name:"op00E0",operation:this.op00E0}),this.opcodesTable.set("0.2",{name:"op00EE",operation:this.op00EE}),this.opcodesTable.set("1",{name:"op1nnn",operation:this.op1nnn}),this.opcodesTable.set("2",{name:"op2nnn",operation:this.op2nnn}),this.opcodesTable.set("3",{name:"op3xkk",operation:this.op3xkk}),this.opcodesTable.set("4",{name:"op4xkk",operation:this.op4xkk}),this.opcodesTable.set("5",{name:"op5xy0",operation:this.op5xy0}),this.opcodesTable.set("6",{name:"op6xkk",operation:this.op6xkk}),this.opcodesTable.set("7",{name:"op7xkk",operation:this.op7xkk}),this.opcodesTable.set("8.0",{name:"op8xy0",operation:this.op8xy0}),this.opcodesTable.set("8.1",{name:"op8xy1",operation:this.op8xy1}),this.opcodesTable.set("8.2",{name:"op8xy2",operation:this.op8xy2}),this.opcodesTable.set("8.3",{name:"op8xy3",operation:this.op8xy3}),this.opcodesTable.set("8.4",{name:"op8xy4",operation:this.op8xy4}),this.opcodesTable.set("8.5",{name:"op8xy5",operation:this.op8xy5}),this.opcodesTable.set("8.6",{name:"op8xy6",operation:this.op8xy6}),this.opcodesTable.set("8.7",{name:"op8xy7",operation:this.op8xy7}),this.opcodesTable.set("8.8",{name:"op8xyE",operation:this.op8xyE}),this.opcodesTable.set("9",{name:"op9xy0",operation:this.op9xy0}),this.opcodesTable.set("A",{name:"opAnnn",operation:this.opAnnn}),this.opcodesTable.set("B",{name:"opBnnn",operation:this.opBnnn}),this.opcodesTable.set("C",{name:"opCxkk",operation:this.opCxkk}),this.opcodesTable.set("D",{name:"opDxyn",operation:this.opDxyn}),this.opcodesTable.set("E.0",{name:"opEx9E",operation:this.opEx9E}),this.opcodesTable.set("E.1",{name:"opExA1",operation:this.opExA1}),this.opcodesTable.set("F.0",{name:"opFx07",operation:this.opFx07}),this.opcodesTable.set("F.1",{name:"opFx0A",operation:this.opFx0A}),this.opcodesTable.set("F.2",{name:"opFx15",operation:this.opFx15}),this.opcodesTable.set("F.3",{name:"opFx18",operation:this.opFx18}),this.opcodesTable.set("F.4",{name:"opFx1E",operation:this.opFx1E}),this.opcodesTable.set("F.5",{name:"opFx29",operation:this.opFx29}),this.opcodesTable.set("F.6",{name:"opFx33",operation:this.opFx33}),this.opcodesTable.set("F.7",{name:"opFx55",operation:this.opFx55}),this.opcodesTable.set("F.8",{name:"opFx65",operation:this.opFx65})}},{key:"getOperationKey",value:function(e){var t,i=e>>12;if(0!=i&&8!=i&&14!=i&&15!=i)return i.toString(16).toUpperCase();switch(i){case 0:return 224===(t=255&e)?"0.1":238===t?"0.2":"0.0";case 8:return 1===(t=15&e)?"8.1":2===t?"8.2":3===t?"8.3":4===t?"8.4":5===t?"8.5":6===t?"8.6":7===t?"8.7":14===t?"8.8":"8.0";case 14:return 161===(t=255&e)?"E.1":"E.0";case 15:return 10===(t=255&e)?"F.1":21===t?"F.2":24===t?"F.3":30===t?"F.4":41===t?"F.5":51===t?"F.6":85===t?"F.7":101===t?"F.8":"F.0"}}},{key:"getnnn",value:function(e){return 4095&e}},{key:"getn",value:function(e){return 15&e}},{key:"getx",value:function(e){return e>>8&15}},{key:"gety",value:function(e){return e>>4&15}},{key:"getkk",value:function(e){return 255&e}}]),e}(),x=function e(){var t=this;Object(a.a)(this,e),this.tick=function(){0!=t.value&&t.value--},this.value=0},f=function e(t){var i=this;Object(a.a)(this,e),this.config=function(){i.opcodes.config()},this.restart=function(){i.PC=512,i.dt.value=0,i.st.value=0,i.SP=0,i.I=0,i.opcode=0;for(var e=0;e<16;e++)i.registers[e]=0},this.execute=function(){if(!i.waitingForKey){var e=i.bus.ram.read(i.PC),t=i.bus.ram.read(i.PC+1);i.PC+=2,i.opcode=e<<8|t}var s=i.opcodes.getOperationKey(i.opcode);i.opcodes.opcodesTable.has(s)?i.opcodes.opcodesTable.get(s).operation():console.log("Error at cpu execute function")},this.bus=t,this.registers=new Uint8Array(16),this.stack=new Uint16Array(16),this.PC=512,this.I=0,this.SP=0,this.opcode=0,this.st=new x,this.dt=new x,this.opcodes=new y(this),this.waitingForKey=!1,this.config(),this.restart()},k=i(12),b=i(6),C=function e(t){Object(a.a)(this,e),this.pressed=!1,this.keyCode=t},j=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(a.a)(this,i),(s=t.call(this,e)).assignKey=function(e,t){if(!s.keys.has(t)){var i=Object(b.a)(s.state.keysCodes);s.keys.delete(i[e]),i[e]=t,s.keys.set(t,new C(t)),s.setState({keysCodes:i})}},s.getKeyCode=function(e){return s.keyboard.getKeyCode(e)},s.handleKeyCodeChanged=function(e){var t=e.detail.oldKeyCode,i=e.detail.newKeyCode;s.keys.delete(t),s.keys.set(i,new C(i))},s.config=function(){document.getElementById("keyboard").addEventListener("keyCodeChangedEvent",s.handleKeyCodeChanged,!1),s.keyboard=s.props.bus.configurations.current.keyboard.current;var e,t=s.keyboard.getKeysCodes(),i=Object(k.a)(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;s.keys.set(n,new C(n))}}catch(o){i.e(o)}finally{i.f()}},s.handleKeyDown=function(e){var t=e.keyCode;s.keys.has(t)&&!s.keys.get(t).pressed&&(s.keys.get(t).pressed=!0,s.pressedKey=s.keys.get(t))},s.handleKeyUp=function(e){var t=e.keyCode;s.keys.has(t)&&(s.keys.get(t).pressed=!1)},s.pressedKey=void 0,s.keys=new Map,s}return Object(p.a)(i,[{key:"componentDidMount",value:function(){this.config(),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.getElementById("keyboard").removeEventListener("keyCodeChangedEvent",this.handleKeyCodeChanged)}},{key:"render",value:function(){return Object(l.jsx)("div",{id:"joypad",tabIndex:"0"})}}]),i}(s.Component),v=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).state={pixelSize:10,pixelPadding:1},e.redrawDisplay=function(){e.canvas.current.getContext("2d").clearRect(0,0,e.canvas.current.width,e.canvas.current.height),e.drawPixels(!0)},e.handleDisplayConfigChanged=function(){e.loadConfigs(e.redrawDisplay)},e.config=function(){e.loadConfigs();var t=e.width*e.height;e.pixels=[];for(var i=0;i<t;i++)e.pixels.push({colorIndex:0,colorChanged:!0})},e.clear=function(){for(var t=e.width*e.height,i=0;i<t;i++)e.pixels[i]={colorIndex:0,colorChanged:!0};e.drawPixels()},e.drawPixels=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=0;i<e.pixels.length;i++){var s=i%e.width,n=Math.floor(i/e.width);(e.pixels[i].colorChanged||t)&&(e.drawPixel(s,n,e.pixels[i].colorIndex),e.pixels[i].colorChanged=!1)}},e.drawPixel=function(t,i,s){var n=e.canvas.current.getContext("2d"),o=e.state,c=o.pixelPadding,r=o.pixelSize,a=Math.floor(r/2);n.fillStyle=e.monochromes[s],n.beginPath(),"circle"===e.currPixelShape?n.arc((r+c)*t+a,(r+c)*i+a,a,0,2*Math.PI):"rectangle"===e.currPixelShape&&n.rect((r+c)*t,(r+c)*i,r,r),n.fill(),n.closePath()},e.setPixel=function(t,i,s){var n=e.width*i+t;e.pixels[n].colorIndex=s,e.pixels[n].colorChanged=!0},e.getPixel=function(t,i){var s=e.width*i+t;return e.pixels[s]},e.pixels=[],e.width=64,e.height=32,e.canvas=n.a.createRef(),e}return Object(p.a)(i,[{key:"loadConfigs",value:function(e){var t=this.props.configurations.current.displayConfig.getDisplayConfig();this.currPixelShape=t.currPixelShape,this.monochromes=t.monochromes,this.setState({pixelSize:t.pixelSize,pixelPadding:t.pixelPadding},e)}},{key:"componentDidMount",value:function(){document.getElementById("displayConfig").addEventListener("configsChangedEvent",this.handleDisplayConfigChanged,!1),this.config(),this.drawPixels()}},{key:"componentWillUnmount",value:function(){document.getElementById("displayConfig").removeEventListener("configsChangedEvent",this.handleDisplayConfigChanged)}},{key:"render",value:function(){var e=this.state,t=e.pixelPadding,i=e.pixelSize;return Object(l.jsx)("div",{style:{float:"left"},children:Object(l.jsx)("canvas",{ref:this.canvas,width:(i+t)*(this.width+1),height:(i+t)*(this.height+1)})})}}]),i}(s.Component),O=(i(19),function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).state={keysCodes:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70]},e.getKeysCodes=function(){return Object(b.a)(e.state.keysCodes)},e.getKeyCode=function(t){return t<e.state.keysCodes.length?e.state.keysCodes[t]:e.state.keysCodes[0]},e.keyCodeChanged=function(e,t,i){var s=new CustomEvent("keyCodeChangedEvent",{detail:{oldKeyCode:t,newKeyCode:i}});document.getElementById("keyboard").dispatchEvent(s)},e.handleKeyDown=function(t){if(void 0!=e.currClicked&&e.currClicked.state.iskeyclicked){var i=t.keyCode;if(e.state.keysCodes.includes(i))return;var s=parseInt(e.currClicked.props.keyName,16),n=Object(b.a)(e.state.keysCodes),o=n[s];n[s]=i,e.setState({keysCodes:n},(function(){e.keyCodeChanged(t,o,i)})),e.currClicked.setState({iskeyclicked:!1})}},e.handleClick=function(t){void 0!=e.currClicked&&e.currClicked!=t&&e.currClicked.setState({iskeyclicked:!1});var i=!t.state.iskeyclicked;e.currClicked=t,t.setState({iskeyclicked:i})},e.handleFocusOut=function(){void 0!=e.currClicked&&e.currClicked.state.iskeyclicked&&(e.currClicked.key.current.click(),e.currClicked=void 0)},e.currClicked=void 0,e}return Object(p.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{id:"container",style:{float:"left"},children:Object(l.jsxs)("ul",{id:"keyboard",onBlur:function(){e.handleFocusOut()},onKeyDown:function(t){e.handleKeyDown(t)},tabIndex:"0",children:[Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"1",keyLetter:String.fromCharCode(this.state.keysCodes[1])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"2",keyLetter:String.fromCharCode(this.state.keysCodes[2])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"3",keyLetter:String.fromCharCode(this.state.keysCodes[3])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"C",keyLetter:String.fromCharCode(this.state.keysCodes[12])}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"4",keyLetter:String.fromCharCode(this.state.keysCodes[4])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"5",keyLetter:String.fromCharCode(this.state.keysCodes[5])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"6",keyLetter:String.fromCharCode(this.state.keysCodes[6])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"D",keyLetter:String.fromCharCode(this.state.keysCodes[13])}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"7",keyLetter:String.fromCharCode(this.state.keysCodes[7])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"8",keyLetter:String.fromCharCode(this.state.keysCodes[8])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"9",keyLetter:String.fromCharCode(this.state.keysCodes[9])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"E",keyLetter:String.fromCharCode(this.state.keysCodes[14])}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"A",keyLetter:String.fromCharCode(this.state.keysCodes[10])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"0",keyLetter:String.fromCharCode(this.state.keysCodes[0])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"B",keyLetter:String.fromCharCode(this.state.keysCodes[11])}),Object(l.jsx)(P,{onKeyClicked:this.handleClick,keyName:"F",keyLetter:String.fromCharCode(this.state.keysCodes[15])})]})})}}]),i}(s.Component)),P=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).state={iskeyclicked:!1},e.key=n.a.createRef(),e}return Object(p.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsxs)("li",{iskeyclicked:this.state.iskeyclicked?1:0,ref:this.key,className:"letter",onClick:function(){return e.props.onKeyClicked(e)},children:[Object(l.jsx)("b",{children:this.props.keyName}),Object(l.jsx)("sub",{children:this.props.keyLetter})]})}}]),i}(s.Component),w=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).state={currPixelShape:"circle",pixelSize:10,pixelPadding:1,monochromes:["#000000","#FFFFFF"]},e.getMonochromes=function(){return Object(b.a)(e.state.monochromes)},e.getCurrPixelShape=function(){return e.state.currPixelShape},e.getDisplayConfig=function(){var t=e.getMonochromes();return{currPixelShape:e.state.currPixelShape,pixelSize:e.state.pixelSize,pixelPadding:e.state.pixelPadding,monochromes:t}},e.displayConfigsChanged=function(){var e=new CustomEvent("configsChangedEvent");document.getElementById("displayConfig").dispatchEvent(e)},e.handlePixelShapeSelected=function(t){var i=t.target.value;i!==e.state.currPixelShape&&e.setState({currPixelShape:i},e.displayConfigsChanged)},e.changePixelSize=function(t){var i=e.state.pixelSize+t;i>0&&e.setState({pixelSize:i},e.displayConfigsChanged)},e.changePixelPadding=function(t){var i=e.state.pixelPadding+t;i>0&&e.setState({pixelPadding:i},e.displayConfigsChanged)},e.pixelChanged=function(t,i){var s=t.value;if(s!=e.state.monochromes[0]&&s!=e.state.monochromes[1]){t.value=s;var n=Object(b.a)(e.state.monochromes);n[i]=s,e.setState({monochromes:n},e.displayConfigsChanged)}},e}return Object(p.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{id:"displayConfig",children:[Object(l.jsx)("label",{children:"select pixel shape:"}),Object(l.jsxs)("select",{id:"pixelShapeSelect",onChange:function(t){e.handlePixelShapeSelected(t)},children:[Object(l.jsx)("option",{value:"circle",children:"Circle"}),Object(l.jsx)("option",{value:"rectangle",children:"Rectangle"})]}),Object(l.jsxs)("span",{children:["Pixel Size:",Object(l.jsx)("button",{onClick:function(){e.changePixelSize(1)},className:"btn btn-light btn-sm m-2",children:"+"}),Object(l.jsx)("span",{className:"badge badge-primary",children:this.state.pixelSize}),Object(l.jsx)("button",{onClick:function(){e.changePixelSize(-1)},className:"btn btn-light btn-sm m-2",children:"-"})]}),Object(l.jsxs)("span",{children:["Pixel Padding:",Object(l.jsx)("button",{onClick:function(){e.changePixelPadding(1)},className:"btn btn-light btn-sm m-2",children:"+"}),Object(l.jsx)("span",{className:"badge badge-primary",children:this.state.pixelPadding}),Object(l.jsx)("button",{onClick:function(){e.changePixelPadding(-1)},className:"btn btn-light btn-sm m-2",children:"-"})]}),Object(l.jsx)("input",{onChange:function(t){return e.pixelChanged(t.target,0)},type:"color",name:"head",id:"blackColor",value:this.state.monochromes[0]}),Object(l.jsx)("input",{onChange:function(t){return e.pixelChanged(t.target,1)},type:"color",id:"whiteColor",value:this.state.monochromes[1]})]})}}]),i}(s.Component),S=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).state={},e.keyboard=n.a.createRef(),e}return Object(p.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{children:[Object(l.jsx)(w,{ref:function(t){e.displayConfig=t}}),Object(l.jsx)(O,{ref:this.keyboard})]})}}]),i}(s.Component),F=function(e){Object(h.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(a.a)(this,i),(e=t.call(this)).state={paused:!1,running:!1},e.setPaused=function(t){e.setState({paused:t})},e.execute=function(){if(!e.state.paused){for(var t=0;t<10;)e.cpu.execute(),t++;e.cpu.dt.tick(),e.cpu.st.tick(),e.display.current.drawPixels(),e.cpu.st.value>0&&e.apu.play()}},e.turnOn=function(){e.setState({paused:!1,running:!0}),e.cpu.restart(),e.display.current.clear(),clearInterval(e.executeTimer),e.executeTimer=setInterval(e.execute,16)},e.turnOff=function(){clearInterval(e.executeTimer)},e.ramLoaded=function(){e.turnOn()},e.configurations=n.a.createRef(),e.ram=new g(Object(u.a)(e)),e.cpu=new f(Object(u.a)(e)),e.joypad=n.a.createRef(),e.display=n.a.createRef();var s=window.location,o=s.protocol+"//"+s.host+"/"+s.pathname.split("/")[1]+"/beep.wav";return e.apu=new Audio(o),e}return Object(p.a)(i,[{key:"componentWillUnmount",value:function(){this.turnOff()}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("p",{className:"lead",children:[Object(l.jsx)("a",{href:"https://en.wikipedia.org/wiki/CHIP-8",children:"CHIP-8 interpreter"})," written in React",Object(l.jsx)("br",{}),Object(l.jsxs)("sub",{children:["Credits:",Object(l.jsx)("a",{href:"https://www.youtube.com/channel/UCWv7vMbMWH4-V0ZXdmDpPBA",children:"Programming with Mosh"})," for the ",Object(l.jsx)("a",{href:"https://youtu.be/Ke90Tje7VS0",children:"React tutorial"})]})]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(S,{ref:this.configurations}),Object(l.jsx)(m,{onFileLoaded:this.ram.loadRam,bus:this}),Object(l.jsx)("button",{type:"button",className:"btn btn-warning",disabled:!this.state.running,onClick:function(){e.setPaused(!e.state.paused)},children:this.state.paused&&this.state.running?"Resume":"Pause"}),Object(l.jsx)(v,{ref:this.display,configurations:this.configurations,style:{float:"left"}}),Object(l.jsx)(j,{ref:this.joypad,bus:this})]})]})}}]),i}(s.Component);i(20);c.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(F,{}),Object(l.jsx)("video",{width:"750",height:"500",controls:!0,children:Object(l.jsx)("source",{src:function(){var e=window.location;return e.protocol+"//"+e.host+"/"+e.pathname.split("/")[1]}()+"/chip8guide.mp4",type:"video/mp4"})})]})}),document.getElementById("root")),r()}},[[21,1,2]]]);
//# sourceMappingURL=main.221a842d.chunk.js.map